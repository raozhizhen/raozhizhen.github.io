---
date: 2015-12-04 11:18
status: public
title: 'Effective Objective-C 2.0读书笔记（－）'
---

##第1章  熟悉 Objective-C 

- 除非确有必要，否则不要引入头文件。一般来说，应在某个类的头文件中使用向前申明来提及别的类（@class *****.h）并在实现文件中引入那些类的头文件。这样做可以尽量降低类之间的耦合
- ？有时无法使用向前申明，比如要申明某个类遵循一项协议。这种情况下，尽量把“该类遵循某协议”的这条声明移至“class-continuation分类”中。如果不行的话，就把协议单独放在一个头文件中，然后将其引入。
- 应该使用字面量语法来创建字符串、数值、字典。与创建此类对象的常规方法相比，这么做更加简明扼要。
- 应该通过取下标操作来访问或字典中的键所对应的元素。
- 用字面量语法创建数组或字典时，若值中有nil，则会抛出异常。因此，务必确保值里不含nil。
- 不要用预处理指令定义常量。这样定义出来的常量不含类型信息，编译器只是会在编译前据此执行查找与替换操作。即使有人重新定义了常量值，编译器也不回产生警告信息，这将导致应用程序中的常量值不一致。
- 在头文件中使用extern来声明全局常量，并在相关实现文件中定义其值。这种常量要出现在全局符号表中，所以其名称应加以区隔，通常用与之相关的类名做前缀 
- 在实现文件中使用static const来定义“只在编译单元内可见的常量”。由于此类常量不在全局符号表中，所以无需使用与之相关的类名做前缀，常用的命名方法是在前面加字母k。
- 应该用枚举来表示状态机的状态、传递给方法的选项以及状态机的等值，给这些值起个简单易懂的名字。
- 如果把传递给某个方法的选项表示为枚举类型，而多个选项又可同时使用，那么就将选项值定义为2的幂，以便通过按位或操作将其组合起来。
- 用NS_ENUM与NS_OPTIONS宏来定义枚举类型，并指明其底层数据类型。这样做可以确保枚举是用开发者所选的底层数据类型实现出来的，而不回采用编译器所选的类型。
- 在处理枚举类型的switch语句中不要实现default分支。这样的话，加入新枚举之后，编译器就会提示开发者：switch语句并未处理所有枚举。